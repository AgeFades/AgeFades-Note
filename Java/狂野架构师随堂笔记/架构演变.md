业务层：
单体 -> 中台（共享）-> 去中台（解耦、不到一定体量的公司用中台战略得不偿失）

数据层：

主从造成

数据延迟
数据一致性
全量复制
单表数据量太大

强制从主库读


分库分表
横向 纵向
横向切数据
纵向切字段 通过主键关联起来 mysql页缓存可以增加更多的缓存热数据 bufferpool

问题
查询、统计、聚合、分表维度设计
分布式事务的问题

shardingjdbc mycat 

基本mysql就到头了，最多再做点参数调优

数据太小分库分表搞什么主从复制，效率会更低

高速缓存 redis

mysql基于磁盘，redis基于内存

缓存问题
雪崩 击穿 穿透 一致性问题

数据多样化
文件、全文检索、日志...mysql redis 解决不了
大数据下的分布式文件系统

nosql、nosql排名网站


应用层：

单机调优
    小项目
动静分离
    后端提供java接口，前端做页面，中间用nginx反代交互
    nginx静态资源不用担心，主要瓶颈在服务端
SOA
    早期dubbo、soa、rpc：远程调用
    dubbo - rpc - 网络调用
    手写远程调用框架
    netty + 动态代理
微服务
    服务网关
    现在用yml/properties简单配置通过SpringBoot直接就启动项目软件了
    协议分层
    http 下面也是 tcp 
    cloud 基于 boot 基于 spring，cloud是技术栈，一系列的微服务问题解决方案


部署：
单机器
    java -jar 
角色划分
    数据库、缓存、消息中间件。。。 单独部署，应用也单独部署 数据性安全
应用集群
    nginx / lvs / haproxy 做负载均衡分发，应用层做集群   
多层代理
    入口 f5 / lvs，然后根据集群挂Nginx做代理再做分发
异地访问
    多机房，不同ip用户访问的是就近距离的机房 异地灾备
    cdn
云平台
    docker k8s 大规模容器编排
    服务器变成了物理集群，部署不用关心具体到哪个节点，由k8s统一管理服务器资源做分发，资源统一规划
    几十个服务部署，人工部署不现实

单节点 - 集群负载均衡 - 云化

架构思想
知行合一，做什么要有意义
原生优于定制，约定大于配置
低代码平台...反人类的东西
少搞点花里胡哨的东西
简约最美 lambda lombok...

架构概念要有分层.. 业务层 应用层 数据层 部署层
从做到走的时候有些什么演变..